#include "delay_timer.h"

void DELAY_TIM_Init(TIM_HandleTypeDef *htim)
{
	HAL_TIM_Base_Start(htim);
}

void DELAY_TIM_Us(TIM_HandleTypeDef *htim, uint16_t time)
{
	__HAL_TIM_SET_COUNTER(htim, 0);
	while(__HAL_TIM_GET_COUNTER(htim) < time);
}

/**
  * @brief  This function provides minimum delay (in milliseconds) based
  *         on a timer *htim.
  * @param  htim: pointer TIM handle.
  * @param  Delay: specifies the delay time length, in milliseconds.
  * @retval None
  */
void DELAY_TIM_Ms(TIM_HandleTypeDef *htim, uint16_t Delay)
{
	__HAL_TIM_SET_COUNTER(htim, 0);
	while(Delay--)
	{
		while(__HAL_TIM_GET_COUNTER(htim) < 1000);
	}
}
